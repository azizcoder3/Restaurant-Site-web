<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Assure-toi que ce chemin est correct pour ton projet -->
    <link rel="stylesheet" href="style.css">
    <title>Diner | Réservation</title>
    <!-- Script spécifique pour la page de réservation -->
    <script src="booking-script.js" defer></script>
</head>
<body>
    <!-- Utilise le même header que index.html ou adapte si nécessaire -->
    <header class="wrapper header booking-header">
        <h2 class="visually-hidden">Header</h2>
        <!-- Logo standard (sombre) peut être mieux ici -->
        <a href="/"><img class="logo" src="/fonts/logo-dine-white.png" alt="logo diner" width="105px" height="40px"></a>
    </header>

    <main>
        <section class="wrapper hero booking-hero">
            <div class="booking-hero-background fullbleed"></div>
            <div class="booking-intro-text">
                <h1 class="title">Réservations</h1>
                <p class="description">Nous avons hâte de vous accueillir. Si vous avez des exigences particulières, n'hésitez pas à nous appeler au numéro de téléphone ci-dessous.</p>
            </div>
        </section>

        <section class="wrapper booking-form-section">
            <div class="booking-form-container">
                <form 
                    id="reservationForm"
                    class="reservation-form"
                    name="reservation"
                    method="POST"
                    data-netlify="true"
                    data-netlify-honeypot="bot-field"
                    novalidate
                >
                    <input type="hidden" name="form-name" value="reservation">
                    
                    <!-- Honeypot -->
                    <div class="form-hidden">
                        <label>Ne pas remplir : <input name="bot-field"></label>
                    </div>

                    <div class="form-group">
                        <label for="nom" class="visually-hidden">Nom</label>
                        <input type="text" id="nom" name="nom" placeholder="Nom" required aria-label="Nom">
                        <span class="error-message" aria-live="polite"></span>
                    </div>

                    <div class="form-group">
                        <label for="email" class="visually-hidden">Email</label>
                        <input type="email" id="email" name="email" placeholder="Email" required aria-label="Email">
                        <span class="error-message" aria-live="polite"></span>
                    </div>

                    <div class="form-group form-group-date-time date-group">
                        <label id="date-label" class="date-time-label">Choisissez une date</label>
                        <div class="date-inputs">
                            <input type="text" id="jour" name="jour" placeholder="JJ" maxlength="2" pattern="\d*" inputmode="numeric" required>
                            <input type="text" id="mois" name="mois" placeholder="MM" maxlength="2" pattern="\d*" inputmode="numeric" required>
                            <input type="text" id="annee" name="annee" placeholder="AAAA" maxlength="4" pattern="\d*" inputmode="numeric" required>
                        </div>
                        <span class="error-message error-message-date-time" aria-live="polite"></span>
                    </div>

                    <div class="form-group form-group-date-time time-group">
                        <label id="time-label" class="date-time-label">Choisissez une heure</label>
                        <div class="time-inputs">
                            <input type="text" id="heure" name="heure" placeholder="09" maxlength="2" pattern="\d*" inputmode="numeric" required>
                            <input type="text" id="minute" name="minute" placeholder="00" maxlength="2" pattern="\d*" inputmode="numeric" required>
                            <select id="periode" name="periode" required>
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <span class="error-message error-message-date-time" aria-live="polite"></span>
                    </div>

                    <div class="form-group people-counter">
                        <button type="button" id="decreasePeople">-</button>
                        <span id="peopleCountDisplay"><span id="peopleCountValue">4</span> personnes</span>
                        <input type="hidden" id="personnes" name="personnes" value="4">
                        <button type="button" id="increasePeople">+</button>
                    </div>
                    <!-- Début du code - Reply-To et Sujet amélioré -->
                    <div class="form-hidden">
                    <!-- Champ pour la réponse automatique -->
                        <input type="hidden" 
                            name="_replyto" 
                            id="client-email-reply"
                            data-netlify-replace="__client_email__ %email%"
                            value="__client_email__">
                        
                        <!-- Sujet d'email combinant nom ET date -->
                        <input type="hidden" 
                            name="_subject" 
                            data-netlify-replace="__reservation_date__ %jour%/%mois%"
                            value="Réservation du __reservation_date__ - %nom%">
                    </div>
                    <!-- Fin du code -->
                    <button type="submit" class="button solid submit-reservation">Faire une réservation</button>
                </form>
            </div>
            <img class="booking-pattern-bas hide-on-mobile" src="/motifs/pattern-curve-top-left-bas.svg" alt="" width="895" height="320">
            <img class="booking-line" src="/motifs/pattern-lines.svg" alt="">
        </section>
    </main>

    <!-- Réutilise ton footer existant -->
    <footer class="wrapper footer bg-dark">
        <h2 class="visually-hidden">Footer</h2>
        <div class="footer-content">
            <a class="footer-link" href="/"><img class="logo" src="/fonts/logo-dine-white.png" alt="logo diner" width="105px" height="40px"></a>
            <div class="footer-location">
                 <p>MARTHWAITE, SEDBERGH</p>
                 <p>CUMBRIA</p>
                 <a href="tel:+00441234567">+00 44 123 4567</a>
            </div>
            <div class="footer-times">
                <p>OPEN TIMES</p>
                <p>MON - FRI: 09:00 AM - 10:00 PM</p>
                <p>SAT - SUN: 09:00 AM - 11:00 PM</p>
            </div>
        </div>
    </footer>

</body>
</html>
